---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";

import fetchApi from "../lib/strapi";
import type Article from "../interfaces/article";

const articles = await fetchApi<Article[]>({
	endpoint: "articles", // the content type to fetch
	wrappedByKey: "data", // the key to unwrap the response
});

const fixstars = {
	title: "Full Stack Engineer @ Fixstars Solutions, Inc.",
	link: "https://us.fixstars.com/",
	body: `Full Stack Developer with over 10 years of hands-on experience at a single high-growth tech company. Possesses a comprehensive, ground-up understanding of the entire software stack, having progressed from Customer Support to Backend Engineering. Proven expertise in building modern React frontends, developing backend services, and bridging the gap between user needs and technical implementation.`,
	color: "#23262d",
};

const projects = [
	{
		title: "GridDB Cloud CLI Tool",
		link: "https://github.com/Imisrael/griddb-cloud-cli",
		body: `Architected and built a standalone CLI tool to simplify GridDB Cloud management, featuring interactive table creation and automated CSV ingestion with intelligent data type mapping.`,
		color: "#4a6002",
	},
	{
		title: "FFTiers Checker",
		link: "https://github.com/Imisrael/FFTiers-Checker",
		body: `Tool purpose-built to search and parse fantasy football players and their tiers for the week based on math done Boris Chen: https://www.borischen.co/. Built with a go multithread fetcher, a pocketbase backend, and a TanStack Query frontend`,
		color: "#4a6002",
	},
	{
		title: "GridLog",
		link: "https://github.com/griddbnet/gridlog/tree/part-iii",
		body: `Full Stack application using: GridDB, Spring Boot, React.js. GridLog polls log files on host machine, takes the raw logs, saves into DB, then takes the raw logs from the DB, parses it, and converts into fieldable logs using regex. Log Viewer allows you to see these logs and to query them with a query builder. Still WIP. Recently added Classical Machine Learning Classification on incoming Logs as an marketing tool.`,
		color: "#4a6002",
	},

	{
		title: "This website",
		link: "/",
		body: `Portfolio type website. Built with Astro, CMS built with Strapi on Railway, static content hosted on Netlify. Blogs below gathered from https://griddb.net using simple node.js script`,
		color: "#4a6002",
	},
];
---

<Layout title="Israel Imru">
	<main
		class="max-w-3xl mx-auto px-6 py-16 text-white text-lg leading-relaxed"
	>
		<h1 class="text-5xl md:text-6xl font-bold text-center mb-6">
			Israel Imru
		</h1>

		<div class="text-center mb-16">
			<a
				href="/about"
				class="text-2xl text-blue-200 underline decoration-sky-500 hover:text-blue-100 transition-colors"
			>
				About Page
				<i class="fa-solid fa-link text-sm align-middle"></i>
			</a>
			<a
				href="https://github.com/Imisrael"
				target="_blank"
				rel="noopener noreferrer"
				class="text-2xl text-blue-200 underline decoration-sky-500 hover:text-blue-100 transition-colors"
			>
				GitHub
				<i class="fa-brands fa-github text-sm align-middle"></i>
			</a>
		</div>

		<section class="mb-16">
			<h2 class="text-3xl font-semibold text-neutral-200 mb-6">
				Employment
			</h2>
			<div class="my-6">
				<Card
					href={fixstars.link}
					title={fixstars.title}
					body={fixstars.body}
					color={fixstars.color}
				/>
			</div>
		</section>

		<section class="mb-16">
			<h2 class="text-3xl font-semibold text-neutral-200 mb-6">
				Projects
			</h2>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				{
					projects.map((project) => (
						<Card
							href={project.link}
							title={project.title}
							body={project.body}
							color={project.color}
						/>
					))
				}
			</div>
		</section>

		<section class="mb-16">
			<h2 class="text-3xl font-semibold text-neutral-200 mb-6">Blogs</h2>
			<ol class="list-decimal list-inside space-y-3">
				{
					articles.map((article) => (
						<li>
							<a
								href={`/blog/${article.attributes.slug}/`}
								class="text-blue-200 hover:text-sky-400 transition-colors underline decoration-sky-500/50 hover:decoration-sky-400"
							>
								{article.attributes.title}
							</a>
						</li>
					))
				}
			</ol>
		</section>
	</main>
</Layout>
